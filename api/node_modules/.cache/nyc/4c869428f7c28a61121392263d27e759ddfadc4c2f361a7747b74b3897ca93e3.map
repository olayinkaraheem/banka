{"version":3,"sources":["transactions.controller.js"],"names":["AccountController","req","res","transactionInfo","body","accountNumber","params","transaction","Transaction","newTransaction","performTransaction","cashier","error","status","code","send","data","message"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;IAEqBA,iB;;;;;;;;;uCACAC,G,EAAKC,G,EAAK;AAC3B,UAAMC,eAAe,GAAGF,GAAG,CAACG,IAA5B;AACA,UAAMC,aAAa,GAAGJ,GAAG,CAACK,MAAJ,CAAWD,aAAjC;AACA,UAAME,WAAW,GAAG,IAAIC,wBAAJ,EAApB;AACA,UAAMC,cAAc,GAAGF,WAAW,CAACG,kBAAZ,mBAChBP,eADgB;AACCE,QAAAA,aAAa,EAAbA;AADD,UAErBF,eAAe,CAACQ,OAFK,CAAvB;;AAKA,UAAI,CAACF,cAAc,CAACG,KAApB,EAA2B;AACzB,eAAOV,GAAG,CACPW,MADI,CACGJ,cAAc,CAACK,IADlB,EAEJC,IAFI,CAEC;AAAEF,UAAAA,MAAM,EAAEJ,cAAc,CAACK,IAAzB;AAA+BE,UAAAA,IAAI,EAAEP,cAAc,CAACO;AAApD,SAFD,CAAP;AAGD;;AACD,aAAOd,GAAG,CACPW,MADI,CACGJ,cAAc,CAACK,IADlB,EAEJC,IAFI,CAEC;AAAEF,QAAAA,MAAM,EAAEJ,cAAc,CAACK,IAAzB;AAA+BF,QAAAA,KAAK,EAAEH,cAAc,CAACQ;AAArD,OAFD,CAAP;AAGD","sourceRoot":"C:\\Users\\Olayinka\\ADC\\banka\\api\\src\\controllers","sourcesContent":["import Transaction from '../services/transactions.service';\n\nexport default class AccountController {\n  performTransaction(req, res) {\n    const transactionInfo = req.body;\n    const accountNumber = req.params.accountNumber;\n    const transaction = new Transaction();\n    const newTransaction = transaction.performTransaction(\n      { ...transactionInfo, accountNumber },\n      transactionInfo.cashier\n    );\n\n    if (!newTransaction.error) {\n      return res\n        .status(newTransaction.code)\n        .send({ status: newTransaction.code, data: newTransaction.data });\n    }\n    return res\n      .status(newTransaction.code)\n      .send({ status: newTransaction.code, error: newTransaction.message });\n  }\n}\n"]}